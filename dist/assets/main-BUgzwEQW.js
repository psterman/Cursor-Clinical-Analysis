!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const i of e)if("childList"===i.type)for(const e of i.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&o(e)}).observe(document,{childList:!0,subtree:!0})}function o(e){if(e.ep)return;e.ep=!0;const o=function(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?o.credentials="include":"anonymous"===e.crossOrigin?o.credentials="omit":o.credentials="same-origin",o}(e);fetch(e.href,o)}}(),async function(){const e=window.location.pathname,o=window.location.hostname;let i="",n=!1;if(o.includes("github.io")){n=!0;const o=e.split("/").filter(e=>e);i=o.length>0&&""!==o[0]?"/"+o[0]:"/Cursor-Clinical-Analysis"}else{const o=e.split("/").filter(e=>e);o.length>0&&(i="/"+o.slice(0,-1).join("/"))}i&&"/"!==i&&i.endsWith("/")&&(i=i.slice(0,-1));const s=n?[`${i}/main.js`,`${i}/dist/main.js`,"./main.js","/main.js","./dist/main.js","/dist/main.js"]:["./main.js","/main.js","./dist/main.js","/dist/main.js",`${i}/main.js`,`${i}/dist/main.js`];console.log("[Main] 当前 URL:",window.location.href),console.log("[Main] 当前路径:",e),console.log("[Main] 主机名:",o),console.log("[Main] 基础路径:",i),console.log("[Main] 是 GitHub Pages:",n),console.log("[Main] 尝试路径列表:",s);let l=!1,a=null;window.analysisModuleLoading=!0,window.analysisModuleError=null;for(const t of s)try{console.log(`[Main] 尝试加载模块，路径: ${t}`);const e=await import(t);console.log("[Main] 模块加载成功，检查导出:",{hasModule:!!e,moduleKeys:Object.keys(e||{}),hasInitializeParser:"function"==typeof(null==e?void 0:e.initializeParser),hasProcessFiles:"function"==typeof(null==e?void 0:e.processFiles),hasRenderFullDashboard:"function"==typeof(null==e?void 0:e.renderFullDashboard)});const o=["initializeParser","processFiles","renderFullDashboard","getGlobalStats","getVibeResult"].filter(o=>"function"!=typeof e[o]);if(o.length>0)throw console.error("[Main] 模块缺少必需的导出:",o),console.error("[Main] 模块实际导出:",Object.keys(e)),new Error(`模块缺少必需的导出函数: ${o.join(", ")}`);const{initializeParser:i,processFiles:n,renderFullDashboard:s,getGlobalStats:a,getVibeResult:r,updateNumberWithAnimation:d,formatNumber:c,fetchTotalTestUsers:u,reportNewUser:f,updateGlobalStats:w}=e;window.analysisModule={initializeParser:i,processFiles:n,renderFullDashboard:s,getGlobalStats:a,getVibeResult:r,updateNumberWithAnimation:d||(()=>{}),formatNumber:c||(e=>e.toString()),fetchTotalTestUsers:u||(async()=>0),reportNewUser:f||(async()=>{}),updateGlobalStats:w||(()=>{})},console.log("[Main] 全局模块对象已创建:",{hasInitializeParser:"function"==typeof window.analysisModule.initializeParser,hasProcessFiles:"function"==typeof window.analysisModule.processFiles,hasRenderFullDashboard:"function"==typeof window.analysisModule.renderFullDashboard}),console.log(`[Main] ✅ 成功加载模块，路径: ${t}`),l=!0,window.analysisModuleLoading=!1,window.analysisModuleError=null;break}catch(r){console.warn(`[Main] 路径 ${t} 加载失败，尝试下一个...`,r),a=r}l||(console.error("[Main] ❌ 所有路径都加载失败，请检查 main.js 文件位置"),window.analysisModuleLoading=!1,window.analysisModuleError=a||new Error("模块加载失败：所有路径都尝试失败"),window.dispatchEvent(new CustomEvent("analysisModuleLoadFailed",{detail:{error:window.analysisModuleError}})))}();
