!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const i of e)if("childList"===i.type)for(const e of i.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&o(e)}).observe(document,{childList:!0,subtree:!0})}function o(e){if(e.ep)return;e.ep=!0;const o=function(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?o.credentials="include":"anonymous"===e.crossOrigin?o.credentials="omit":o.credentials="same-origin",o}(e);fetch(e.href,o)}}(),async function(){const e=window.location.pathname,o=e.includes("/Cursor-Clinical-Analysis")?"/Cursor-Clinical-Analysis":e.split("/").slice(0,-1).join("/")||"",i=e.includes("Cursor-Clinical-Analysis"),n=i?[`${o}/main.js`,`${o}/dist/main.js`,"./main.js","/main.js","./dist/main.js","/dist/main.js"]:["./main.js","/main.js","./dist/main.js","/dist/main.js",`${o}/main.js`,`${o}/dist/main.js`];console.log("[Main] 当前路径:",e),console.log("[Main] 基础路径:",o),console.log("[Main] 是 GitHub Pages:",i),console.log("[Main] 尝试路径列表:",n);let s=!1,l=null;window.analysisModuleLoading=!0,window.analysisModuleError=null;for(const a of n)try{console.log(`[Main] 尝试加载模块，路径: ${a}`);const e=await import(a);console.log("[Main] 模块加载成功，检查导出:",{hasModule:!!e,moduleKeys:Object.keys(e||{}),hasInitializeParser:"function"==typeof(null==e?void 0:e.initializeParser),hasProcessFiles:"function"==typeof(null==e?void 0:e.processFiles),hasRenderFullDashboard:"function"==typeof(null==e?void 0:e.renderFullDashboard)});const o=["initializeParser","processFiles","renderFullDashboard","getGlobalStats","getVibeResult"].filter(o=>"function"!=typeof e[o]);if(o.length>0)throw console.error("[Main] 模块缺少必需的导出:",o),console.error("[Main] 模块实际导出:",Object.keys(e)),new Error(`模块缺少必需的导出函数: ${o.join(", ")}`);const{initializeParser:i,processFiles:n,renderFullDashboard:l,getGlobalStats:r,getVibeResult:t,updateNumberWithAnimation:d,formatNumber:c,fetchTotalTestUsers:u,reportNewUser:f,updateGlobalStats:y}=e;window.analysisModule={initializeParser:i,processFiles:n,renderFullDashboard:l,getGlobalStats:r,getVibeResult:t,updateNumberWithAnimation:d||(()=>{}),formatNumber:c||(e=>e.toString()),fetchTotalTestUsers:u||(async()=>0),reportNewUser:f||(async()=>{}),updateGlobalStats:y||(()=>{})},console.log("[Main] 全局模块对象已创建:",{hasInitializeParser:"function"==typeof window.analysisModule.initializeParser,hasProcessFiles:"function"==typeof window.analysisModule.processFiles,hasRenderFullDashboard:"function"==typeof window.analysisModule.renderFullDashboard}),console.log(`[Main] ✅ 成功加载模块，路径: ${a}`),s=!0,window.analysisModuleLoading=!1,window.analysisModuleError=null;break}catch(r){console.warn(`[Main] 路径 ${a} 加载失败，尝试下一个...`,r),l=r}s||(console.error("[Main] ❌ 所有路径都加载失败，请检查 main.js 文件位置"),window.analysisModuleLoading=!1,window.analysisModuleError=l||new Error("模块加载失败：所有路径都尝试失败"),window.dispatchEvent(new CustomEvent("analysisModuleLoadFailed",{detail:{error:window.analysisModuleError}})))}();
